language: cpp
sudo: required
dist: trusty
os: linux
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - gcc-5
      - g++-5
      - cmake
before_install:
  - ln -s /usr/bin/gcc-5 /usr/local/bin/gcc
  - ln -s /usr/bin/g++-5 /usr/local/bin/g++
  - export CC=/usr/bin/gcc-5
  - export CXX=/usr/bin/g++-5
  - gcc -v && g++ -v && cmake --version
  - sudo apt-get -qq update
  - sudo apt-get install lcov
  - sudo apt-get install git
  - sudo apt-get install libboost-all-dev
install:
  - wget https://github.com/libcheck/check/releases/download/0.11.0/check-0.11.0.tar.gz
  - tar -xzvf check-0.11.0.tar.gz
  - pushd check-0.11.0 && ./configure --prefix=/usr && make && sudo make install && popd
  - git clone https://github.com/no1msd/mstch.git
  - cd mstch
  - cmake .
  - make
  - sudo make install
  - cd ..
  - git clone https://github.com/nlohmann/json.git
  - cd json
  - cmake .
  - make
  - sudo make install
before_script:
  - cmake .
script:
  - make
  - make install