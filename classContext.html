<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Web framework C++: Context Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Web framework C++
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Simple web framework on c++ designed to easily create web pages, etc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classContext-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Context Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is wrapper for important data (like <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a>, DB, <a class="el" href="classMiddleware.html" title="class wrapper for middleware ">Middleware</a> etc.), which is needed to handlers.  
 <a href="classContext.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="context_8h_source.html">context.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Context:</div>
<div class="dyncontent">
<div class="center"><img src="classContext__coll__graph.png" border="0" usemap="#Context_coll__map" alt="Collaboration graph"/></div>
<map name="Context_coll__map" id="Context_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a652cdcd2eedc8dbd9110bd284c5d5cf0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#a652cdcd2eedc8dbd9110bd284c5d5cf0">Context</a> ()</td></tr>
<tr class="separator:a652cdcd2eedc8dbd9110bd284c5d5cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d34e4556448e40693f61d15e091b604"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#a2d34e4556448e40693f61d15e091b604">~Context</a> ()</td></tr>
<tr class="separator:a2d34e4556448e40693f61d15e091b604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1b05e6fd8a30c7011ae9b61e13a858"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRequest.html">Request</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#a0a1b05e6fd8a30c7011ae9b61e13a858">getRequest</a> ()</td></tr>
<tr class="separator:a0a1b05e6fd8a30c7011ae9b61e13a858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad97cbd30993d5471a0fc497a765d22fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classResponse.html">Response</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#ad97cbd30993d5471a0fc497a765d22fa">getResponse</a> ()</td></tr>
<tr class="separator:ad97cbd30993d5471a0fc497a765d22fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a641824f175a2b74553e77463eee1ceb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#a641824f175a2b74553e77463eee1ceb3">setRequest</a> (<a class="el" href="classRequest.html">Request</a> *request)</td></tr>
<tr class="separator:a641824f175a2b74553e77463eee1ceb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6cd6b84fa2f726c9897f55091cca674"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#aa6cd6b84fa2f726c9897f55091cca674">setResponse</a> (<a class="el" href="classResponse.html">Response</a> *response)</td></tr>
<tr class="separator:aa6cd6b84fa2f726c9897f55091cca674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae027ca52192ddc50c1ee5e0d23c219f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#ae027ca52192ddc50c1ee5e0d23c219f1">setMiddlewareList</a> (std::vector&lt; <a class="el" href="classMiddleware.html">Middleware</a> * &gt; *middlewareList)</td></tr>
<tr class="separator:ae027ca52192ddc50c1ee5e0d23c219f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e37ba8d3634392a1991dd54928c07f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#ae3e37ba8d3634392a1991dd54928c07f">setPermanentlyRedirect</a> (const char *uri)</td></tr>
<tr class="separator:ae3e37ba8d3634392a1991dd54928c07f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4803bcd72832cc87d140567264359f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#a4d4803bcd72832cc87d140567264359f">setTemporaryRedirect</a> (const char *uri)</td></tr>
<tr class="separator:a4d4803bcd72832cc87d140567264359f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75747bd27962a61b48194890037aca66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#a75747bd27962a61b48194890037aca66">setRedirect</a> (const char *uri, int code)</td></tr>
<tr class="separator:a75747bd27962a61b48194890037aca66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa13561c05609e896c0c5be581c345f2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMiddleware.html">Middleware</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#aa13561c05609e896c0c5be581c345f2c">getMiddlewareByNameID</a> (const char *nameID)</td></tr>
<tr class="separator:aa13561c05609e896c0c5be581c345f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aed912d5ea0698cfb9d792385883349"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#a4aed912d5ea0698cfb9d792385883349">emitCloseEvent</a> ()</td></tr>
<tr class="separator:a4aed912d5ea0698cfb9d792385883349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47659bfa5fdc6932058e65c393ef8014"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classContext.html#a47659bfa5fdc6932058e65c393ef8014">isClosed</a> ()</td></tr>
<tr class="separator:a47659bfa5fdc6932058e65c393ef8014"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is wrapper for important data (like <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a>, DB, <a class="el" href="classMiddleware.html" title="class wrapper for middleware ">Middleware</a> etc.), which is needed to handlers. </p>
<p>This class collects a data about current request, which was parsed from str, have a pointer to <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a> object, which will be serialized to client in future (here could be some written data from previous responses), also there are references to all added middleware (you could get some by id) and database, which is ready to perform method exec </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a652cdcd2eedc8dbd9110bd284c5d5cf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Context::Context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor create an object of this class: creating <a class="el" href="classRequest.html" title="class wrapper of HTTP request ">Request</a> and <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a> objects, and setting NULL to db and middlewareList </p>

</div>
</div>
<a class="anchor" id="a2d34e4556448e40693f61d15e091b604"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Context::~Context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deleting <a class="el" href="classRequest.html" title="class wrapper of HTTP request ">Request</a>, <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a> and DB objects, if they are not NULL </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4aed912d5ea0698cfb9d792385883349"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Context::emitCloseEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Emit signal to stop executing operation. <a class="el" href="classHandler.html" title="object of this class executes every time on new request, this object (and others) construct response ...">Handler</a>, which used this will be last executed handler in app </p>

</div>
</div>
<a class="anchor" id="aa13561c05609e896c0c5be581c345f2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMiddleware.html">Middleware</a>* Context::getMiddlewareByNameID </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>nameID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Method returns added <a class="el" href="classMiddleware.html" title="class wrapper for middleware ">Middleware</a> by id (in string)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nameID</td><td>id of middleware, which was set at startup </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>object of <a class="el" href="classMiddleware.html" title="class wrapper for middleware ">Middleware</a> (could be inherited) </dd></dl>

</div>
</div>
<a class="anchor" id="a0a1b05e6fd8a30c7011ae9b61e13a858"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRequest.html">Request</a>* Context::getRequest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gives current request</p>
<dl class="section return"><dt>Returns</dt><dd>object of <a class="el" href="classRequest.html" title="class wrapper of HTTP request ">Request</a> class </dd></dl>

</div>
</div>
<a class="anchor" id="ad97cbd30993d5471a0fc497a765d22fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classResponse.html">Response</a>* Context::getResponse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gives current response. Could be modified by previous handlers</p>
<dl class="section return"><dt>Returns</dt><dd>object of <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a> class </dd></dl>

</div>
</div>
<a class="anchor" id="a47659bfa5fdc6932058e65c393ef8014"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Context::isClosed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks, if handlers emitted CloseEvent</p>
<dl class="section return"><dt>Returns</dt><dd>true, if there were emitted close event, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ae027ca52192ddc50c1ee5e0d23c219f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Context::setMiddlewareList </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classMiddleware.html">Middleware</a> * &gt; *&#160;</td>
          <td class="paramname"><em>middlewareList</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>sets vector of <a class="el" href="classMiddleware.html" title="class wrapper for middleware ">Middleware</a> objects, which can be accessed by handlers</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">middlewareList</td><td>std::vector of <a class="el" href="classMiddleware.html" title="class wrapper for middleware ">Middleware</a> objects </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae3e37ba8d3634392a1991dd54928c07f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Context::setPermanentlyRedirect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set permanent (code 301) redirect headers to <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>destination uri, where current request will be redirected </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a75747bd27962a61b48194890037aca66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Context::setRedirect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set redirect headers to <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>destination uri, where current request will be redirected </td></tr>
    <tr><td class="paramname">code</td><td>http code of redirect </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a641824f175a2b74553e77463eee1ceb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Context::setRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRequest.html">Request</a> *&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deleting existing <a class="el" href="classRequest.html" title="class wrapper of HTTP request ">Request</a> and setting new one</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>object of <a class="el" href="classRequest.html" title="class wrapper of HTTP request ">Request</a> class (could be inherited) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa6cd6b84fa2f726c9897f55091cca674"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Context::setResponse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classResponse.html">Response</a> *&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deleting existing <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a> and setting new one</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">response</td><td>object of <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a> class (could be inherited) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4d4803bcd72832cc87d140567264359f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Context::setTemporaryRedirect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set temporary (code 302) redirect headers to <a class="el" href="classResponse.html" title="class wrapper of HTTP response ">Response</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>destination uri, where current request will be redirected </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/travis/build/akrava/web-framework/include/<a class="el" href="context_8h_source.html">context.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
