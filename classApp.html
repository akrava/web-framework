<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Web framework C++: App Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Web framework C++
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Simple web framework on c++ designed to easily create web pages, etc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classApp-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">App Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The main class of the framework. Each object of this class is an independent web-application, which could be configured by handlers, middleware etc.  
 <a href="classApp.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="app_8h_source.html">app.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for App:</div>
<div class="dyncontent">
<div class="center"><img src="classApp__coll__graph.png" border="0" usemap="#App_coll__map" alt="Collaboration graph"/></div>
<map name="App_coll__map" id="App_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4d47c8cea0e7ec6741fafae03091267d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#a4d47c8cea0e7ec6741fafae03091267d">App</a> (const char *ip=&quot;127.0.0.1&quot;, int port=80, bool isIPv6=false, const char *logFilePath=nullptr)</td></tr>
<tr class="separator:a4d47c8cea0e7ec6741fafae03091267d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ace9b21ece86acaa43a7102af9345bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#a0ace9b21ece86acaa43a7102af9345bf">App</a> (<a class="el" href="classInitParams.html">InitParams</a> &amp;params)</td></tr>
<tr class="separator:a0ace9b21ece86acaa43a7102af9345bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34f1f253b1cef5f4ecbac66eaf6964ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#a34f1f253b1cef5f4ecbac66eaf6964ec">~App</a> ()</td></tr>
<tr class="separator:a34f1f253b1cef5f4ecbac66eaf6964ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49cd5d0a755aa8895f3c2996b66a9742"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#a49cd5d0a755aa8895f3c2996b66a9742">init</a> ()</td></tr>
<tr class="separator:a49cd5d0a755aa8895f3c2996b66a9742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698368f4d3b1318cc6af46efe5e12bc9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#a698368f4d3b1318cc6af46efe5e12bc9">addHandler</a> (<a class="el" href="classHandler.html">Handler</a> *handler)</td></tr>
<tr class="separator:a698368f4d3b1318cc6af46efe5e12bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6dbef35ab35288410d1efa4b3c2581"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#a5e6dbef35ab35288410d1efa4b3c2581">addPermanentlyRedirect</a> (const char *uri, const char *target)</td></tr>
<tr class="separator:a5e6dbef35ab35288410d1efa4b3c2581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe6249317d55564b458a7b1c0e7d1569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#abe6249317d55564b458a7b1c0e7d1569">addTemporaryRedirect</a> (const char *uri, const char *target)</td></tr>
<tr class="separator:abe6249317d55564b458a7b1c0e7d1569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb3ac56a7ff8f3e32b26c3bbd03545b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#a2bb3ac56a7ff8f3e32b26c3bbd03545b">addRedirect</a> (const char *uri, const char *target, int code)</td></tr>
<tr class="separator:a2bb3ac56a7ff8f3e32b26c3bbd03545b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80363d379773f502e0a716928efbe77"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#aa80363d379773f502e0a716928efbe77">addMiddleware</a> (<a class="el" href="classMiddleware.html">Middleware</a> *middleware)</td></tr>
<tr class="separator:aa80363d379773f502e0a716928efbe77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e00b75967cb19a41f09a95aa3193275"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classApp.html#a0e00b75967cb19a41f09a95aa3193275">run</a> ()</td></tr>
<tr class="separator:a0e00b75967cb19a41f09a95aa3193275"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The main class of the framework. Each object of this class is an independent web-application, which could be configured by handlers, middleware etc. </p>
<p>This class implements web-application, which is running on given and port. It supports IPv6 and can capture log in the file if given. Use Handlers, <a class="el" href="classMiddleware.html" title="class wrapper for middleware ">Middleware</a> and set Redirects to adjust it. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4d47c8cea0e7ec6741fafae03091267d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">App::App </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ip</em> = <code>&quot;127.0.0.1&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em> = <code>80</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isIPv6</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>logFilePath</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new web application, which is only adjusted to ip address. You can init this and add some handlers etc. to run this</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip</td><td>text representation of ip address, like 127.0.0.1 or 0:0:0:0:0:0:0:1 (if IPv6) </td></tr>
    <tr><td class="paramname">port</td><td>port in range [0, 65535] </td></tr>
    <tr><td class="paramname">isIPv6</td><td>set true, if param ip is version 6 </td></tr>
    <tr><td class="paramname">logFilePath</td><td>if you want to create log file, give a file path, or null otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0ace9b21ece86acaa43a7102af9345bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">App::App </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classInitParams.html">InitParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new web application, by command line arguments using <a class="el" href="classInitParams.html" title="InitParams is intended to get web-server configs from command line arguments. ">InitParams</a> object</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">params</td><td>Give an object params, which was created by <a class="el" href="classInitParams.html" title="InitParams is intended to get web-server configs from command line arguments. ">InitParams</a> class from command line arguments </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a34f1f253b1cef5f4ecbac66eaf6964ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">App::~App </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor delete all added handlers and all middleware </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a698368f4d3b1318cc6af46efe5e12bc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void App::addHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classHandler.html">Handler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To configure your application create and add some handlers</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>object of class <a class="el" href="classHandler.html" title="object of this class executes every time on new request, this object (and others) construct response ...">Handler</a> (could be inherited) with overridden function exec </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa80363d379773f502e0a716928efbe77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void App::addMiddleware </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMiddleware.html">Middleware</a> *&#160;</td>
          <td class="paramname"><em>middleware</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add object of class <a class="el" href="classMiddleware.html" title="class wrapper for middleware ">Middleware</a>, which has got overridden function exec to do given operations on every request. All handlers could access to any middleware and perform adjusted actions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">middleware</td><td>object of class <a class="el" href="classMiddleware.html" title="class wrapper for middleware ">Middleware</a> (could be inherited) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5e6dbef35ab35288410d1efa4b3c2581"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void App::addPermanentlyRedirect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add redirection, which is meant to last forever. The original URL should not be used anymore and that the new one is preferred. Search engine robots trigger an update of the associated URL for the resource in their indexes. (<a class="el" href="classHTTP.html" title="static class describes http method, version, and allow to convert it from/to string/enumeration ...">HTTP</a> code 301)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>original uri path, which is deprecated (outdated) </td></tr>
    <tr><td class="paramname">target</td><td>new uri address of mentioned page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2bb3ac56a7ff8f3e32b26c3bbd03545b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void App::addRedirect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>To adjust any redirection using status code. For example, 304 (Not Modified) redirects a page to the locally cached copy, and 300 (Multiple Choice) is a manual redirection: the body, presented by the browser as a Web page, lists the possible redirection and the user clicks on one to select it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>original uri path, which is deprecated (outdated) </td></tr>
    <tr><td class="paramname">target</td><td>new uri address of mentioned page </td></tr>
    <tr><td class="paramname">code</td><td><a class="el" href="classHTTP.html" title="static class describes http method, version, and allow to convert it from/to string/enumeration ...">HTTP</a> code redirection status of response </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe6249317d55564b458a7b1c0e7d1569"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void App::addTemporaryRedirect </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>uri</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Temporary redirect can be used, if for some time the requested resource cannot be accessed from its canonical location, but it can be accessed from another place. Search engine robots don't memorize the new, temporary link. Temporary redirection are also used when creating, updating and deleting resources to present temporary progress pages.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uri</td><td>original uri path, which is deprecated (outdated) </td></tr>
    <tr><td class="paramname">target</td><td>new uri address of mentioned page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a49cd5d0a755aa8895f3c2996b66a9742"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool App::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use this function to open socket for listening on declared ip address and port. After creating on object you should use this function to startup web-socket</p>
<dl class="section return"><dt>Returns</dt><dd>true if ip address and port were valid and available, false - otherwise, please, use another address to continue </dd></dl>

</div>
</div>
<a class="anchor" id="a0e00b75967cb19a41f09a95aa3193275"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool App::run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start listening for request. This method startup the system, where on every request from clients all added handlers and middleware create a response and send it to client. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/travis/build/akrava/web-framework/include/<a class="el" href="app_8h_source.html">app.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
